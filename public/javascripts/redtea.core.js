(function(){window.merge=function(e,t){var r,n,i;n={};for(r in e)i=e[r],n[r]=i;for(r in t)i=t[r],n[r]=i;return n},Object.defineProperty(CanvasRenderingContext2D.prototype,"rightPoly",{enumerable:!1,value:function(e,t,r,n){var i,o,a,u;for(this.beginPath(),this.moveTo(e,t+r),i=2*Math.PI/n,o=a=1,u=n-1;u>=1?u>=a:a>=u;o=u>=1?++a:--a)this.lineTo(e+Math.sin(i*o)*r,t+Math.cos(i*o)*r);return this.closePath()}}),Math.inBox=function(e,t){return e[0].x<=t.x&&e[1].x>=t.x&&e[0].y<=t.y&&e[1].y>=t.y},Math.sqrHypot=function(e,t){var r,n;return r=e.x-t.x,n=e.y-t.y,r*r+n*n},Math._betweenX=function(e,t){return e[0].x<t[0].x&&t[0].x<e[1].x&&e[0].x<t[1].x&&t[1].x<e[1].x},Math._betweenY=function(e,t){return e[0].y<t[0].y&&t[0].y<e[1].y&&e[0].y<t[1].y&&t[1].y<e[1].y},Math._isBoxIntersect=function(e,t){return Math.inBox(e,t[0])||Math.inBox(e,t[1])||Math.inBox(e,{x:t[0].x,y:t[1].y})||Math.inBox(e,{x:t[1].x,y:t[0].y})||Math._betweenX(e,t)&&Math._betweenY(t,e)},Math.isBoxIntersect=function(e,t){return Math._isBoxIntersect(e,t)||Math._isBoxIntersect(t,e)},Object.defineProperty(Object,"decapitalize",{enumerable:!1,value:function(e){return e.charAt(0).toLowerCase()+e.slice(1)}}),Object.defineProperty(String.prototype,"camelizeLower",{enumerable:!1,value:function(){return this.split("_").map(function(e){return e.replace(e[0],e[0].toLocaleUpperCase())}).join("").replace(this[0].toLocaleUpperCase(),this[0].toLocaleLowerCase())}}),Object.defineProperty(String.prototype,"camelize",{enumerable:!1,value:function(){return this.split("_").map(function(e){return e.toLocaleLowerCase().replace(e[0],e[0].toLocaleUpperCase())}).join("")}}),Object.defineProperty(String.prototype,"underscore",{enumerable:!1,value:function(){return this.replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase()}}),Object.defineProperty(Object.prototype,"toA",{enumerable:!1,value:function(){var e,t,r,n,i;for(i=[],n=Object.keys(this),e=0,r=n.length;r>e;e++)t=n[e],i.push(this[t]);return i}}),Object.defineProperty(Object,"values",{enumerable:!1,value:function(e){var t,r,n;r=[];for(t in e)n=e[t],r.push(n);return r}}),Object.defineProperty(Array.prototype,"intersect",{enumerable:!1,value:function(e){var t,r,n;for(t=0,r=0,n=[];t<this.length&&r<e.length;)this[t]<e[r]?t+=1:this[t]>e[r]?r+=1:(n.push(this[t]),t+=1,r+=1);return n}}),Object.defineProperty(Array.prototype,"getAny",{enumerable:!1,value:function(){return this.length>0?this[Math.floor(Math.random()*this.length)]:null}}),Object.defineProperty(Array.prototype,"last",{enumerable:!1,value:function(e){return null==e&&(e=0),this.length>0?this[this.length+e-1]:null}}),Object.defineProperty(Array.prototype,"isInclude",{enumerable:!1,value:function(e){return this.length>0?-1!==this.indexOf(e):!1}}),Object.defineProperty(Array.prototype,"max",{enumerable:!1,value:function(e){return Math.max.apply(null,this)}}),Object.defineProperty(Array.prototype,"min",{enumerable:!1,value:function(e){return Math.min.apply(null,this)}}),Object.defineProperty(Array.prototype,"delete",{enumerable:!1,value:function(e){var t;return t=this.indexOf(e),-1!==t?(this.splice(t,1),e):void 0}}),Object.defineProperty(Array.prototype,"lay",{enumerable:!1,value:function(e,t){if(null===t)switch(arguments.length){case 2:return e(this[0],this[1]);case 3:return e(this[0],this[1],this[2]);case 4:return e(this[0],this[1],this[2],this[3]);case 5:return e(this[0],this[1],this[2],this[3],this[4]);default:return e.apply(null,this)}else switch(arguments.length){case 2:return e.call(t,this[0],this[1]);case 3:return e.call(t,this[0],this[1],this[2]);case 4:return e.call(t,this[0],this[1],this[2],this[3]);case 5:return e.call(t,this[0],this[1],this[2],this[3],this[4]);default:return e.apply(t,this)}}}),Object.defineProperty(Array.prototype,"insert",{enumerable:!1,value:function(e,t){return this.splice(e,0,t)}}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{enumerable:!1,value:function(e){var t,r,n,i,o;if("undefined"==typeof this||null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(n=Object(this),r=n.length>>>0,i=arguments[1],o=void 0,t=0;r>t;){if(o=n[t],e.call(i,o,t,n))return o;t++}return void 0}}),Object.defineProperty(Number.prototype,"toK",{enumerable:!1,value:function(){var e,t;if(e="",t=this,this>=1e3)for(;t>=1e3;)t/=1e3,e+="k";return Math.round(10*t)/10+e}})}).call(this);
