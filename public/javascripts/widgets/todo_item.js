(function(){var t,e={}.hasOwnProperty,i=function(t,i){function o(){this.constructor=t}for(var n in i)e.call(i,n)&&(t[n]=i[n]);return o.prototype=i.prototype,t.prototype=new o,t.__super__=i.prototype,t};t=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return i(e,t),e.register("todoItem"),e.prototype.isMain=!0,e.prototype.createDom=function(t){return this.li().bi(RTC.DBLCLICK,"onStartEdit",{context:t}).append(function(){return this.div({"class":"view"},function(){return this.input({"class":"toggle",type:"checkbox"}).setas("checkboxEl").bi(RTC.CHANGE,"onChange",{context:t}),this.label(function(){return this.tn(t.body).setas("bodyEl")}),this.button({"class":"destroy"}).bi(RTC.CLICK,"onDeleteFire",{context:t})}),this.input({"class":"edit",value:t.body}).setas("editField").bi(RTC.CHANGE,"onFinishEdit",{context:t})})},e.prototype.init=function(t){return window.bi(RTC.CLICK,"stopEdit",{context:this}),this.update(t)},e.prototype.update=function(t){return this.isChecked=t.isChecked,this.isChecked?(this.checkboxEl.checked=!0,this.dom.addCls("completed")):(this.checkboxEl.checked=!1,this.dom.remCls("completed")),this.body=t.body,this.bodyEl.nodeValue=this.body,this.editField.value=this.body},e.prototype.onStartEdit=function(t,e){return e.preventDefault(),this.dom.addCls("editing"),this.editField.focus(),this.editField.value="",this.editField.value=this.body},e.prototype.stopEdit=function(){return this.dom.remCls("editing")},e.prototype.onChange=function(t){return this.fire(t.checked?"onDone":"onComback")},e.prototype.onDeleteFire=function(){return this.fire("onDelete")},e.prototype.onFinishEdit=function(t){return this.fire("onEdit",t.value),this.stopEdit()},e}(RedTeaWidget)}).call(this);
